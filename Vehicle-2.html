<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="Styles\LTE\bootstrap\css\bootstrap.css">
    <link rel="stylesheet" href="Styles\LTE\font-awesome\font-awesome.min.css">
    <link rel="stylesheet" href="Styles\LTE\_all-skins.css">
    <link rel="stylesheet" href="Styles\LTE\AdminLTE.css">
    <link rel="stylesheet" href="Styles\toastr.css">
    <link rel="stylesheet" href="Styles\panel.css">
    <link rel="stylesheet" href="Scripts\simple-line-icons\simple-line-icons.css">
    <link rel="stylesheet" href="Styles\datatables\dataTables.bootstrap.css">
    <link rel="stylesheet" href="Styles\check\minimal.css">
    <link rel="stylesheet" href="Styles\bootstrap-select.min.css">
    <link rel="stylesheet" href="Styles\titatoggle-dist.css">

    <script src="Scrip\jquery-3.5.1.min.js"></script>

    <script src="Scripts\LTE\bootstrap.js"></script>
    <script src="Scripts\PackingAjax.js"></script>
    <script src="Scripts\CfgInfo.js"></script>
    <script src="Scripts\LTE\app.js"></script>
    <script src="Scripts\LTE\portlet-draggable.js"></script>
    <script src="Scripts\LTE\jquery.slimscroll.js"></script>
    <script src="Scripts\LTE\jquery.dataTables.min.js"></script>
    <script src="Scripts\LTE\dataTables.bootstrap.js"></script>
    <script src="Scripts\toastr.min.js"></script>
    <script src="Scripts\validation\AlertInfo.js"></script>
    <script src="Scripts\jquery.blockui.min.js"></script>
    <script src="Scripts\icheck.js"></script>
    <script src="Scripts\bootstrap-typeahead.js"></script>
    <script src="Scripts\bootstrap-select.js"></script>
    <script src="Scripts\TimeHelper\Transformation.js"></script>
    <script src="Scripts\LTE\dataTables.buttons.min.js"></script>
    <script src="Scripts\LTE\jszip.min.js"></script>
    <script src="Scripts\LTE\buttons.html5.min.js"></script>
    <script src="Scripts\LTE\buttons.print.min.js"></script>
    <script src="Scripts\LTE\morris.min.js"></script>

    <!-- ion.rangeSlider.min -->

    <link href="Styles/PopupBox.css" rel="stylesheet" />
    <link href="Styles/bootstrap-datetimepicker.css" rel="stylesheet" />
    <link type="text/css" href="Styles/ol.css" rel="stylesheet" />
    <link type="text/css" href="Styles/ion.rangeSlider.min.css" rel="stylesheet" />
    <script type="text/javascript" src="Scripts/ol.js"></script>
    <script type="text/javascript" src="Scripts/turf.min.js"></script>
    <script type="text/javascript" src="Scripts/PackingMapDisplay.js"></script>
    <script type="text/javascript" src="Scripts/DataHandler.js"></script>
    <script type="text/javascript" src="Scripts/bootstrap-datetimepicker.js"></script>
    <script type="text/javascript" src="Scripts/ion.rangeSlider.min.js"></script>
    <!-- //<script type="text/javascript" src="http://maps.google.com/maps/api/js?v=3&amp;sensor=false&amp;key=AIzaSyDwR1gJ6MaBB_P7SvJ-qrdDOFer24vkkUI"></script> -->
    <script src="Scripts/csv/xlsx.full.min.js"></script>
    <script src="Scripts/csv/xlsx.min.js"></script>
    <script src="Scripts/csv/FileSaver.js"></script>
    <script src="Scripts/LTE/Chart.js"></script>
    <script src="Scripts/LTE/Chart.bundle.js"></script>



    <title>Document</title>
</head>

<body>

    <style>
        #menu {
            float: left;
            position: absolute;
            bottom: 10px;
            left: 10px;
            z-index: 2000;
        }
    
        .checkbox {
            left: 20px;
        }
        /**
            * 提示框的样式信息
            */
        .tooltip {
            position: relative;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 4px;
            color: white;
            padding: 4px 8px;
            opacity: 0.7;
            white-space: nowrap;
        }
    
        .tooltip-measure {
            opacity: 1;
            font-weight: bold;
        }
    
        .tooltip-static {
            background-color: #ffffff;
            color: black;
            border: 1px solid white;
        }
    
            .tooltip-measure:before,
            .tooltip-static:before {
                border-top: 6px solid rgba(0, 0, 0, 0.5);
                border-right: 6px solid transparent;
                border-left: 6px solid transparent;
                content: "";
                position: absolute;
                bottom: -6px;
                margin-left: -7px;
                left: 50%;
            }
    
            .tooltip-static:before {
                border-top-color: #ffffff;
            }
    
        #scalebar {
            float: left;
            margin-bottom: 10px;
        }
    </style>
    


    <div class="row">
        <!-- Search -->
        <div class="col-md-12">
            <div class="portlet box blue " style="margin-bottom: 10px">
                <div class="portlet-title">
                    <div class="caption">
                        <i class="fa fa-search fa-lg"></i> <span class="caption-subject sbold uppercase">Search </span>
                    </div>
                    <div class="tools">
                        <a href="" class="collapse"> </a>
                        <a href="" class="reload"> </a>
                    </div>
                </div>

                <div class="portlet-body ">
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <form class="form-inline" role="form">


                                <div class="row">

                                    <div class="col-md-12">

                                        <div class="form-group" id="companySelectHide">
                                            <select name="type" class="form-control" id="companySelect">
                                                <option value="0">All Company</option>
                                            </select>
                                        </div>
                                        <div class="form-group">

                                            <div class="input-group">
                                                <!-- <input type="text" autocomplete="off" class="form-control"
                                                    placeholder="Vehicle No" id="VehicleNo"> -->
                                                <select name="type" class="form-control bs-select"
                                                    data-live-search="true" id="VehicleNo">
                                                    <option value="">Please select</option>
                                                </select>
                                            </div>

                                        </div>
                                        <div class="form-group">

                                            <div class="input-group">
                                                <div class="input-group date" id="Start" data-date=""
                                                    data-date-format="" data-link-field="dtp_input3"
                                                    data-link-format="yyyy-mm-dd">
                                                    <input class="form-control " size="16" type="text" value=""
                                                        id="StartTime" placeholder="Start Date" readonly>
                                                    <span class="input-group-addon"><span
                                                            class="fa fa-times"></span></span>
                                                    <span class="input-group-addon"><span
                                                            class="fa fa-calendar"></span></span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">

                                            <div class="input-group">
                                                <div class="input-group date" id="End" data-date="" data-date-format=""
                                                    data-link-field="dtp_input3" data-link-format="yyyy-mm-dd">
                                                    <input class="form-control " size="16" type="text" value=""
                                                        id="EndTime" placeholder="End Date" readonly>
                                                    <span class="input-group-addon"><span
                                                            class="fa fa-times"></span></span>
                                                    <span class="input-group-addon"><span
                                                            class="fa fa-calendar"></span></span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <div class="input-group">
                                                <button class="btn btn-warning " type="button" id="sSearch">View
                                                    Track</button>

                                            </div>
                                        </div>

                                        <!-- <div class="form-group">
                                            <div class="input-group">
                                                <button class="btn btn-warning " type="button"
                                                    id="download">Download</button>

                                            </div>
                                        </div> -->

                                        <div class="form-group">
                                            <div class="input-group">
                                                <button class="btn btn-danger " type="button" style="display: none"
                                                    id="Back">Back</button>

                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- INFOMATION style="display:none;"-->
        <div class="appfrom-left  col-lgg-4 col-lgg-push-8 col-md-12  col-sm-12" id="Details">
            <div class="portlet box blue " style="margin-bottom: 10px;">
                <div class="portlet-title">
                    <div class="caption">
                        <span class="caption-subject sbold uppercase">Information</span>
                    </div>
                    <div class="tools">
                        <a href="" class="collapse"> </a>

                    </div>
                </div>
                <div class="portlet-body map-trackform " style="height:300px">

                    <div class="row">
                        <div class="col-lg-12 col-md-12  col-sm-12">
                            <div class="form-group form-group-sm">
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">

                                    <label>Time:</label>
                                    <span id="sReportTime">0001-01-01 00:00:00</span>
                                </div>

                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                    <label>Vehicle:</label>
                                    <span id="VehicleId"></span>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                    <label>Driver:</label>
                                    <span id="DriverId"></span>
                                </div>

                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">

                                    <label>Speed:</label>
                                    <span id="sSpeed"></span>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">

                                    <label>Longitude:</label>
                                    <span id="sLongitude"></span>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">

                                    <label>Latitude:</label>
                                    <span id="sLatitude"></span>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">

                                    <label>Ignition off:</label>
                                    <span id="IgnitionStatus"></span>
                                </div>

                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">

                                    <label>LoginStatus:</label>
                                    <span id="LoginStatus"></span>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">

                                    <label>Front alarm:</label>
                                    <span id="FrontalarmStatus"></span>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">

                                    <label>Rear alarm:</label>
                                    <span id="RearalarmStatus"></span>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">

                                    <label>Hired:</label>
                                    <span id="HiredStatus"></span>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">

                                    <label>GPS:</label>
                                    <span id="GpsStatus"></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12 col-md-12  col-sm-12">


                            <hr
                                style="height: 1px; border: none; border-top: 1px solid #AAAAAA; margin-bottom: 8px; margin-top: 8px;">
                        </div>
                        <div class="col-lg-12 col-md-12  col-sm-12">
                            <label class="control-label">Total Point Position</label>
                        </div>
                        <div class="col-lgg-12 col-md-5  col-sm-12">
                            <div id="demo"></div>

                        </div>
                        <div class="col-lgg-12 col-md-2 ">
                            <form class="form-inline " role="form">
                                <div class="form-group">
                                    <div class="input-group">
                                        <button class="btn btn-circle btn-icon-only  btn-outline green" type="button"
                                            id="Play">
                                            <i class="fa fa-play" id="PlayIcon"></i>
                                        </button>

                                    </div>
                                </div>


                                <div class="form-group">
                                    <div class="input-group">
                                        <button class="btn btn-circle btn-icon-only btn-outline green" type="button"
                                            id="Stop">
                                            <i class="fa fa fa-stop"></i>
                                        </button>
                                    </div>
                                </div>

                            </form>
                        </div>

                    </div>


                </div>
            </div>
        </div>
        <!-- Map style="visibility:hidden"-->
        <div class="appfrom-rigth col-lgg-8 col-lgg-pull-4 col-md-12 col-sm-12" id="MapHide">
            <div class="portlet light" style="margin-bottom: 10px; padding-left: 15px; padding-right: 15px">
                <div class="portlet-body ">
                    <from class="form-horizontal">
                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div id="gmap" class="fill"></div>
                                <div id="map" class="map-size">
                                    <div id="layerbox1"
                                        style="position: absolute; z-index: 999; right: 9px; top: 9px; width: 172px">
                                        <div class="col-lg-12 col-md-12 col-sm-12">
                                            <div class="form-group form-group-sm">

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </from>
                </div>
            </div>
        </div>


    </div>

    <!-- <style type="text/css">
        div.fill {
            width: 100%;
            height: 500px;
        }

        .map {
            width: 1000px; 
            height: 500px;
        }
    </style> -->
    <!-- 脚本 -->
    <!-- <script type="text/javascript" language="javascript">
        var so = sessionStorage.getItem("MAP") == null ? "2" : sessionStorage.getItem("MAP");
        if (so == "4") {
            document.write("<script src='http://maps.google.com/maps/api/js?v=3&amp;sensor=false&amp;key=AIzaSyDwR1gJ6MaBB_P7SvJ-qrdDOFer24vkkUI'><" + '/' + "script>");
            $("#gmap").show();
    
        } else {
            $("#gmap").hide();
        }
    
    
    </script> -->


    <script type="text/javascript">
        //debugger;
        var token;
        $.ClearOption = function (number) {
            $(number).empty();
            $(number).append("<option value=''>Please Select</option>");
        };

        $.ClearOptionCompany = function (number) { $(number).empty(); $(number).append("<option value='0'> All Company</option>"); }
        // $.AjaxFunSysn(GetCorporationNameSelect, {}, function (data) {
        //     var Info = data.Data;
        //     setCompanyName("#companySelect", Info);
        // }, token);



        function setCompanyName(id, data) {
            $.ClearOptionCompany(id);
            // for (var i = 0; i < data.length; i++) {
            //     $(id).append("<option value=\"" + data[i].Id + "\">" + data[i].EnCoName + "</option>");
            // }
        }
        $(document).on("change", "#companySelect", function () {
           // debugger;
            var companyId = $("#companySelect option:selected").val();

            if (companyId == 0) {
                $.ClearOption("#VehicleNo");
                handleBootstrapSelect();
                $("#VehicleNo").selectpicker('refresh');
            } else {
                InitDeviceIDSelect(companyId);
            }
        });

        var handleBootstrapSelect = function () {
            $('#VehicleNo').selectpicker({
                iconBase: 'fa',
                tickIcon: 'fa-check'
            });
        }

        // $("#VehicleNo").typeahead({
        //     source: function (query, process) {

        //         var parameter = { "EnVehicleNo": query, "CorporationID": $("#companySelect option:selected").val() };
        //         $.AjaxFun(GetVehicleId, parameter, function (data) {
        //             if (data.Data == null)
        //                 return;
        //             process(data.Data);
        //         }, token);
        //     }, minLength: 1
        // });

        // function InitDeviceIDSelect(companyId) {
        //     $.AjaxFunSysn(GetVehicleNamelist, { CorporationID: companyId }, function (data) {
        //         if (data.MsgType == 1) {
        //             var Info = data.Data;
        //             setVehicleSelect("#VehicleNo", Info);
        //         }
        //     }, token);
        // }


        function setVehicleSelect(id, data) {
            $.ClearOption(id);
            for (var i = 0; i < data.length; i++) {
                $(id).append("<option value=\"" + data[i].EnVehicleNo + "\">" + data[i].EnVehicleNo + "</option>");
            }
            handleBootstrapSelect();
            $(id).selectpicker('refresh');
        }


        $(function () {
           // debugger;
            var redirectargs = $.UrlParam();
            if (redirectargs.vehicle != null) {
                var StartTime = $.TransformFormatNoTimehhmm(redirectargs.start);
                var EndTime = $.TransformFormatNoTimehhmm(redirectargs.end);
                $("#StartTime").val(StartTime);
                $("#EndTime").val(EndTime);
                $("#companySelect").val(redirectargs.CorpID);
                InitDeviceIDSelect(redirectargs.CorpID);

                var numbers = $("#VehicleNo").find("option"); //获取select下拉框的所有值
                for (var j = 1; j < numbers.length; j++) {
                    if ($(numbers[j]).val() == redirectargs.vehicle) {
                        $("#VehicleNo").val(redirectargs.vehicle);
                        $("#VehicleNo").selectpicker('refresh');
                    }
                }
                $("#Back").attr("style", "display:block;");

                $("#sSearch").click();


            }

        });

        $("#Back").click(function () {
            window.history.back();
        });



        $.UrlParam = function () {
            var args = new Object();
            var query = location.search.substring(1);
            var pairs = query.split("&");
            for (var i = 0; i < pairs.length; i++) {
                var pos = pairs[i].indexOf('=');
                if (pos == -1) continue;
                var argname = pairs[i].substring(0, pos);
                var value = pairs[i].substring(pos + 1);
                args[argname] = unescape(value);
            }
            return args;
        }
        var args = $.UrlParam();

        var alias = $("#VehicleNo").val(args.key);


        var so = sessionStorage.getItem("MAP") == null ? "4" : sessionStorage.getItem("MAP");
        $("#map_source option[value='" + so + "']").prop("selected", "selected");
        $("#map_source").change(function () {
            var value = $("#map_source").val();
            sessionStorage.setItem('MAP', value);
            window.location.reload();
        });

        //加载地图
        $.Create("map", mapLon, mapLat,"3");

        //$.Create("map", mapLon, mapLat, 4);

        // //加载时间
        $("#Start").datetimepicker({ language: 'en', format: "dd M yyyy  hh:ii", autoclose: true, todayBtn: true });
        $("#End").datetimepicker({ language: 'en', format: "dd M yyyy  hh:ii", autoclose: true, todayBtn: true });

        var TimerHandle;
        var offset = 1;
        var mTable = [];

        $("#demo").ionRangeSlider({
            skin: "square",
            min: 1,
            max: 100,
            onFinish: function (obj) {
                debugger;
                if (mTable == null || mTable.length <= 0)
                    return;
                 //obj.from为当前滚动块的位置, 
                 //offset  为上次滚动块的位置
                if (obj.from > offset) {
                   //正向播放,正向拖动
                    for (var i = offset; i < obj.from; i++) {
                        $.TimerDrawLineAdd($.TransMapLonLat(mTable[i].Longitude, mTable[i].Latitude));
                    }
                    offset = obj.from;
                    changeOffset(offset - 1);
                } else if (obj.from < offset) {
                   //反向拖动
                    if (obj.from == 1) {                   
                        $.TimerDrawLineInit($.TransMapLonLat(mTable[obj.from - 1].Longitude, mTable[obj.from - 1].Latitude));
                        offset = 1;
                        changeOffset(offset - 1);
                        return;
                    }
                    var temp = [];
                    for (var i = 0; i < obj.from; i++) {
                        temp[i] = $.TransMapLonLat(mTable[i].Longitude, mTable[i].Latitude);
                    }
                    $.TimerDrawLineReset(temp);
                    offset = obj.from;
                    changeOffset(offset-1);
                }
            }
        });
        var my_range = $("#demo").data("ionRangeSlider");


        var saveTime = [];
        var speedName = [];

        $("#sSearch").click(function () {
           // debugger;
             mTable = [
                {
                    Driver: "6",
                    Latitude: 31.29573,
                    LoginStatus: true,
                    Longitude: 121.31176,
                    NowTime: "2022-05-24 02:44:18",
                    Speed: 0,
                    Status: 131073,
                    Vehicle: "MG269"
                },
                {
                    Driver: "6",
                    Latitude: 31.2987,
                    LoginStatus: true,
                    Longitude: 121.31382,
                    NowTime: "2022-05-24 02:50:20",
                    Speed: 0,
                    Status: 131073,
                    Vehicle: "MG269"
                },
                {
                    Driver: "6",
                    Latitude: 31.29804,
                    LoginStatus: true,
                    Longitude: 121.32755,
                    NowTime: "2022-05-25 11:04:26",
                    Speed: 0,
                    Status: 131073,
                    Vehicle: "MG269"

                },
                {
                    Driver: "6",
                    Latitude: 31.29104,
                    LoginStatus: true,
                    Longitude: 121.3254,
                    NowTime: "2022-05-25 11:21:28",
                    Speed: 0,
                    Status: 131073,
                    Vehicle: "MG269"
                }
            ];

            $.SwitchView(mTable[offset - 1].Longitude, mTable[offset - 1].Latitude, 14);
            $.TimerDrawLineInit($.TransMapLonLat(mTable[offset - 1].Longitude, mTable[offset - 1].Latitude));

            changeOffset(0);
            my_range.update({
                max: mTable.length,
                from: 1
            });
            my_range.reset();
            //$("#ViewTrack").show();
            $("#MapHide").css("visibility", "visible");
            $("#Details").show();



            // alias = $("#VehicleNo").val();
            // if (alias == "") {
            //     $.AlertInfo("error", "Motorized No is empty", "Message");
            //     return;
            // }

            // if ($("#StartTime").val() == "") {
            //     $.AlertInfo("error", "Start Time Is Null", "Message");
            //     return;
            // }
            // if ($("#EndTime").val() == "") {
            //     $.AlertInfo("error", "End Time Is Null", "Message");
            //     return;
            // }
            // offset = 1;
            // var json = { "Vehicle": $("#VehicleNo").val(), "StartTime": $.TransformUtc($("#StartTime").val().replace('  ', ' ')), "EndTime": $.TransformUtc($("#EndTime").val().replace('  ', ' ')) };
            // $.AjaxFunUiLoad(VehicleTrack, json, function (data) {
            //     if (data.Data != null && data.MsgType == 1) {
            //         if (data.Data.length > 0) {            
            //             mTable = [];
            //             mTable = data.Data;                   
            //             $.SwitchView(mTable[offset - 1].Longitude, mTable[offset - 1].Latitude, 14);
            //             $.TimerDrawLineInit($.TransMapLonLat(mTable[offset - 1].Longitude, mTable[offset - 1].Latitude));

            //             changeOffset(0);
            //             my_range.update({
            //                 max: mTable.length,
            //                 from: 1
            //             });
            //             my_range.reset();
            //             //$("#ViewTrack").show();
            //             $("#MapHide").css("visibility", "visible");
            //             $("#Details").show();

            //         }
            //         else {
            //             //$("#ViewTrack").css("display", "none");
            //             $.AlertInfo("error", "Not Query Data", "Message");
            //             //$("#chartModal").hide();
            //             //$('#myChart').remove();
            //             //$('#container').append(' <canvas id="myChart"></canvas>');
            //         }
            //     } else {
            //         $.AlertInfo("error", data.Info, "Message");
            //         //$("#chartModal").hide();
            //         $('#myChart').remove();
            //         $('#container').append(' <canvas id="myChart"></canvas>');
            //     }
            // }, token);
        });
        $("#Play").attr('disabled', false);
        $("#Stop").attr("disabled", true);
        $("#Play").click(function () {
            $("#Play").attr('disabled', true);

            $("#Stop").attr("disabled", false);
            TimerHandle = setInterval(playTrack, 1000); //setInterval()方法可按照指定的周期（以毫秒计）来调用函数或计算表达式
        });
        $("#Stop").click(function () {
            $("#Play").attr('disabled', false);
            $("#Stop").attr("disabled", true);
            clearInterval(TimerHandle);
        });
        function playTrack() {
            //debugger;
            if (offset + 1 > mTable.length) {
                $("#Play").attr('disabled', false);
                $("#Stop").attr("disabled", true);
                clearInterval(TimerHandle);
                return;
            }
            my_range.update({
                max: mTable.length,
                from: offset + 1,
            });
            changeOffset(offset);
            $.SwitchView(mTable[offset - 1].Longitude, mTable[offset - 1].Latitude, 14);
            offset = offset + 1;
        };


        function changeOffset(value) {
            if (value > mTable.length) {
                return;
            }
            var info = mTable[value];
            if (value == mTable.length) {
                info = mTable[value - 1];

            }
            if (info == null)
                return;
            var ignition = (info.Status & 0x1) == 1;
            var sos1 = (info.Status >> 1 & 0x1) == 1;
            var sos2 = (info.Status >> 3 & 0x1) == 1;
            var hired = (info.Status >> 2 & 0x1) == 1;
            var gps = (info.Status >> 16 & 0x1) == 1;
            if (ignition) {
                $("#IgnitionStatus").text("Yes");
            }
            else {
                $("#IgnitionStatus").text("No");
            }
            if (sos1) {
                $("#FrontalarmStatus").text("Yes");
            }
            else {
                $("#FrontalarmStatus").text("No");
            }
            if (sos2) {
                $("#RearalarmStatus").text("Yes");
            }
            else {
                $("#RearalarmStatus").text("No");
            }
            if (hired) {
                $("#HiredStatus").text("Yes");
            }
            else {
                $("#HiredStatus").text("No");
            }
            if (gps) {
                $("#GpsStatus").text("Yes");
            }
            else {
                $("#GpsStatus").text("No");
            }
            $('#sLongitude').text(info.Longitude);
            $('#sLatitude').text(info.Latitude);
            $('#Speed').text(info.Speed + "(km)");
            $('#sReportTime').text($.TransformCurrentEx(info.NowTime));

            $('#DriverId').text(info.Driver);
            $('#VehicleId').text(info.Vehicle);
            $('#LoginStatus').text($.FromLoginStatus(info.LoginStatus));
            $.TimerDrawLineAdd($.TransMapLonLat(info.Longitude, info.Latitude));
            
        };

        var startDatet, endDatet;

    </script>



</body>

</html>